extends layout

block content
  div.container
    div.pic
      img(src="images/desk.jpg")
    div.blurb
      if (legacyMode)
        h1.legacy Shifty
        h3.legacy (legacy mode - grape flavour)
        p Looking for normal mode? Click
          |
          |
          a(href="./") here!
      else
        h1 Shifty
        p Looking for legacy mode? Click
          |
          |
          a(href="./?legacyMode=true") here!
        p A couple of small updates for shifty
        ul
          li You can now use formulae on your date columns to save some typing! Say you have the date 19/7/17 in cell A1,
          |  if in A2 you put '=A1+1', this will make A2 one day after A1 (20/7/17).
          |  So add formulae to the dates in your shift sheet, and you'll only need to update the first date when it's time to create a new roster.
          li For our friends in Bundoora we now have the BEast shift type.  BEastly :)
        b If no one says anything, I'll be removing legacy mode in the next update, so contact Mel if you still need it.
      p Contact
        |
        |
        a(href="mailto:melanie.kidman@rmit.edu.au") Mel
        |  for support!
      a(href="https://github.com/tkidman/shifty" target="_blank") See here for more information
      div.divform
        form(action=legacyMode ? "/run?legacyMode=true" : "/run", method="post", enctype="multipart/form-data")
          input(type="file", name="input")
          input(type="submit", name="submit")
  if roster
    div.tab
      button#default.tablinks(onclick="openTab(event, 'roster')") Roster
      button.tablinks(onclick="openTab(event, 'staffSummary')") Staff Summary
    include ./roster.pug
    include ./staff-summary.pug
    script
      | document.getElementById("default").click();
  if errors
    p The following problems were found with the spreadsheet:
    ul
      each error in errors
        li= error
  if exception
    p.error Sorry, Shifty has encountered an error: #{exception.message}
    | Please contact Mel for support!
