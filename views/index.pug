extends layout

block content
  div.container
    div.pic
      img(src="images/desk.jpg")
    div.blurb
      h1 Shifty
      p Update! A shift can now have many shift types. So if, for example, you have some project work that can be performed by both Reference and Loans staff,
        |  you can now specify a shift as both Standard and Reference!
      p In the shift type column on the shift sheet, enter a comma separated list of shift types, (eg: Standard,Reference).
        |  If the staff member has any of those types/skills then shifty will try to allocate them to the shift.
        |  You can use the label column to mark a shift as a project shift.
        |  Mel and I have discussed this a bit and we're not sure if this is the best way to solve project work.  Let us know your ideas!
      p Contact
        |
        |
        a(href="mailto:melanie.kidman@rmit.edu.au") Mel
        |  for support!
      a(href="https://github.com/tkidman/shifty" target="_blank") See here for more information
      div.divform
        form(action="/run", method="post", enctype="multipart/form-data")
          input(type="file", name="input")
          input(type="submit", name="submit")
  if roster
    div.tab
      button#default.tablinks(onclick="openTab(event, 'roster')") Roster
      button.tablinks(onclick="openTab(event, 'staffSummary')") Staff Summary
    include ./roster.pug
    include ./staff-summary.pug
    script
      | document.getElementById("default").click();
  if errors
    p The following problems were found with the spreadsheet:
    ul
      each error in errors
        li= error
  if exception
    p.error Sorry, Shifty has encountered an unexpected error: #{exception.message}
    | This should never happen - please contact Mel for support!
